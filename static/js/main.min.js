document.addEventListener('DOMContentLoaded',function(){initializeComponents();setupEventListeners();applyAnimations();});function initializeComponents(){var tooltipTriggerList = [].slice.call(document.querySelectorAll('[data-bs-toggle="tooltip"]'));var tooltipList = tooltipTriggerList.map(function(tooltipTriggerEl){return new bootstrap.Tooltip(tooltipTriggerEl);});var popoverTriggerList = [].slice.call(document.querySelectorAll('[data-bs-toggle="popover"]'));var popoverList = popoverTriggerList.map(function(popoverTriggerEl){return new bootstrap.Popover(popoverTriggerEl);});}function setupEventListeners(){const alerts = document.querySelectorAll('.alert:not(.alert-permanent)');alerts.forEach(function(alert){setTimeout(function(){const bsAlert = new bootstrap.Alert(alert);bsAlert.close();},5000);});const deleteButtons = document.querySelectorAll('[data-action="delete"]');deleteButtons.forEach(function(button){button.addEventListener('click',function(e){if(!confirm('Tem certeza que deseja excluir este item? Esta ação não pode ser desfeita.')){e.preventDefault();}});});const forms = document.querySelectorAll('form[data-validate="true"]');forms.forEach(function(form){form.addEventListener('submit',function(e){if(!validateForm(form)){e.preventDefault();}});});}function applyAnimations(){const cards = document.querySelectorAll('.card');cards.forEach(function(card,index){setTimeout(function(){card.classList.add('fade-in');},index * 100);});}function validateForm(form){let isValid = true;const requiredFields = form.querySelectorAll('[required]');requiredFields.forEach(function(field){if(!field.value.trim()){showFieldError(field,'Este campo é obrigatório');isValid = false;}else{clearFieldError(field);}});const emailFields = form.querySelectorAll('input[type="email"]');emailFields.forEach(function(field){if(field.value && !isValidEmail(field.value)){showFieldError(field,'Email inválido');isValid = false;}});const cpfFields = form.querySelectorAll('input[data-type="cpf"]');cpfFields.forEach(function(field){if(field.value && !isValidCPF(field.value)){showFieldError(field,'CPF inválido');isValid = false;}});return isValid;}function showFieldError(field,message){field.classList.add('is-invalid');const existingError = field.parentNode.querySelector('.invalid-feedback');if(existingError){existingError.remove();}const errorDiv = document.createElement('div');errorDiv.className = 'invalid-feedback';errorDiv.textContent = message;field.parentNode.appendChild(errorDiv);}function clearFieldError(field){field.classList.remove('is-invalid');const errorDiv = field.parentNode.querySelector('.invalid-feedback');if(errorDiv){errorDiv.remove();}}function isValidEmail(email){const emailRegex = /^[^\s@]+@[^\s@]+\.[^\s@]+$/;return emailRegex.test(email);}function isValidCPF(cpf){cpf = cpf.replace(/[^\d]/g,'');if(cpf.length !== 11)return false;if(/^(\d)\1{10}$/.test(cpf))return false;let sum = 0;for(let i = 0;i < 9;i++){sum += parseInt(cpf.charAt(i))*(10 - i);}let remainder =(sum * 10)% 11;if(remainder === 10 || remainder === 11)remainder = 0;if(remainder !== parseInt(cpf.charAt(9)))return false;sum = 0;for(let i = 0;i < 10;i++){sum += parseInt(cpf.charAt(i))*(11 - i);}remainder =(sum * 10)% 11;if(remainder === 10 || remainder === 11)remainder = 0;if(remainder !== parseInt(cpf.charAt(10)))return false;return true;}function formatCPF(input){let value = input.value.replace(/\D/g,'');value = value.replace(/(\d{3})(\d)/,'$1.$2');value = value.replace(/(\d{3})(\d)/,'$1.$2');value = value.replace(/(\d{3})(\d{1,2})$/,'$1-$2');input.value = value;}function formatPhone(input){let value = input.value.replace(/\D/g,'');value = value.replace(/(\d{2})(\d)/,'($1)$2');value = value.replace(/(\d{4})(\d)/,'$1-$2');value = value.replace(/(\d{4})-(\d)(\d{4})/,'$1$2-$3');input.value = value;}document.addEventListener('DOMContentLoaded',function(){const cpfInputs = document.querySelectorAll('input[data-type="cpf"]');cpfInputs.forEach(function(input){input.addEventListener('input',function(){formatCPF(this);});});const phoneInputs = document.querySelectorAll('input[data-type="phone"]');phoneInputs.forEach(function(input){input.addEventListener('input',function(){formatPhone(this);});});});